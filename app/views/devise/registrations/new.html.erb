<%# 郵便番号から住所を自動表示するjavascript %>
<%javascript_include_tag 'ajaxzip3'%>
<script>
window.onload=function(){
  document.getElementById("user_postal_code").addEventListener('keyup', function(){
    AjaxZip3.zip2addr(this, '', 'user[address]', 'user[address]');
    });
  }
</script>

<div class="container">
  <div class="row">
    <div class="col-md-4 col-md-offset-4">
      <h2>Sign up</h2>


      <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
        <%= devise_error_messages! %>

        <div class="field form-group">
          <%= f.label :name, "名前 ( 漢字 ) " %><br />
          <%= f.text_field :name, autofocus: true, autocomplete: "name", class:"form-control" %>
        <div>

        <div class="field form-group">
          <%= f.label :name_kana, "名前 ( カナ ) " %><br />
          <%= f.text_field :name_kana, autofocus: true, autocomplete: "name_kana", class:"form-control" %>
        </div>

        <div class="field form-group">
          <%= f.label :nickname, "ユーザー名" %><br />
          <%= f.text_field :nickname, autofocus: true, autocomplete: "nickname", class:"form-control" %>
        </div>

        <div class="field form-group">
          <%= f.label :birthday, "生年月日" %><br />
          <%= raw sprintf(f.date_select(
                          :birthday,
                          use_month_numbers: true,
                          start_year:        1930,
                          end_year:          (Time.now.year - 18),
                          default:           Date.new(1989, 1, 1),
                          date_separator: '%s'), '年', '月') + '日' %>
        </div>

        <div class="field form-group">
          <div class="row">
            <div class="col-md-10">
              <%= f.label :address, "住所" %><br />
              <em>(郵便番号はハイフンを入れないでください)</em>
            </div>
            <div class="col-md-5">
              <%= f.text_field :postal_code, autofocus: true, autocomplete: "postal_code", class:"form-control", placeholder:"〒" %>
            </div>
          </div>
          <%= f.text_field :address, autofocus: true, autocomplete: "address", class:"form-control" %>
        </div>


        <div class="field form-group">
          <%= f.label :phone_number, "電話番号" %>
          <em>(ハイフンを入れないでください)</em><br />
          <%= f.text_field :phone_number, autofocus: true, autocomplete: "phone_number", class:"form-control" %>
        </div>

        <div class="field form-group">
          <%= f.label :email, "メールアドレス" %><br />
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"form-control" %>
        </div>

        <div class="field form-group">
          <%= f.label :password, "パスワード" %>
          <% if @minimum_password_length %>
          <em>(<%= @minimum_password_length %>文字以上)</em>
          <% end %><br />
          <%= f.password_field :password, autocomplete: "new-password", class:"form-control" %>
        </div>

        <div class="field form-group">
          <%= f.label :password_confirmation, "パスワード(確認)" %><br />
          <%= f.password_field :password_confirmation, autocomplete: "new-password", class:"form-control" %>
        </div>

        <br>

        <div class="row">
          <div class="col-md-6  col-md-offset-3">
            <div class="actions form-group">
              <%= f.submit "新規登録", class:"form-control btn btn-warning" %>
            </div>
          </div>
        </div>
      <% end %>

<%= render "devise/shared/links" %>


    </div>
  </div>
</div>

